<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <meta name="description" content="Restaurant Menu">
    <title>Restaurant</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="css/restaurant.css">
    <script defer src="https://unpkg.com/feather-icons"></script>
</head>
<body>
    <div class="restaurant-header">
        <img id="restaurant-image" loading="lazy">
        <a href="javascript:history.back()" class="back-button">
    <svg viewBox="0 0 24 24" stroke-width="2.5" stroke="white" fill="none" stroke-linecap="round" stroke-linejoin="round">
        <polyline points="15 18 9 12 15 6" />
    </svg>
</a>
        <div class="restaurant-info">
            <h1 id="restaurant-name"></h1>
            <p id="restaurant-info"></p>
        </div>
    </div>
    <div class="menu-section" id="menu-section">
        <div class="loading-spinner">Loading menu...</div>
    </div>
    <div id="closed-message" class="toast-container error" style="display: none; opacity: 1; z-index: 1000; position: fixed; bottom: 30px; top: auto; left: 50%; transform: translateX(-50%); width: 300px; text-align: center;">
        <span>Ordering isn’t available at the moment. However, the restaurant may still be open.</span>
    </div>
    <div id="blur-backdrop"></div>
    <div id="options-panel" class="options-panel">
        <div id="modal-drag-handle"></div>
        <h5 id="options-title"></h5>
       <button id="close-panel" class="modal-close-btn" aria-label="Close">
  <svg viewBox="0 0 24 24" width="34" height="34" stroke-width="2.4" stroke="white" fill="none" stroke-linecap="round" stroke-linejoin="round">
    <path d="M6 6l12 12M6 18L18 6" />
  </svg>
  
</button>
        <div id="size-group" class="option-group">
            <h6>Choose a Size</h6>
            <div class="instructions">Pick one size that fits your appetite.</div>
            <div id="size-options"></div>
        </div>
        <div id="extra-group" class="option-group">
            <h6>Add Extras (Optional)</h6>
            <div class="instructions">Select any extras you’d like, and adjust the quantity.</div>
            <div id="extra-options"></div>
        </div>
        <div class="total-price" id="total-price">Total: GH₵0.00</div>
        <button id="confirm-add" class="confirm-btn">Add to Cart</button>
    </div>
    <div id="modal-backdrop" style="display: none;"></div>

    <div id="toast" class="toast-container">
        <span id="toast-message"></span>
    </div>
<a href="cart.html" class="view-cart-btn" id="view-cart-btn">
    View Cart - GH₵0.00
    <span id="cart-badge" class="cart-badge" style="display:none;">0</span>
</a>
   <script type="module" src="js/restaurant.js"></script>

 
<script>
  
    // Slow network detection
    function showSlowNetworkToast() {
      // Only show if online
      if (!navigator.onLine) return;
  
      const toastContainer = document.createElement('div');
      toastContainer.id = 'slow-network-toast';
      toastContainer.className = 'toast-container';
      toastContainer.style.background = 'rgba(255, 152, 0, 0.9)'; // Orange for warning
      toastContainer.style.zIndex = '1001'; // Above other toasts
      toastContainer.innerHTML = '<span>Slow Network Detected...</span>';
      document.body.appendChild(toastContainer);
  
      // Show toast
      toastContainer.classList.add('show');
      
      // Auto-hide after 7 seconds
      setTimeout(() => {
        toastContainer.classList.remove('show');
        toastContainer.classList.add('hide');
        setTimeout(() => {
          toastContainer.remove();
        }, 300);
      }, 7000);
    }
  
    // Check network speed
    if ('connection' in navigator) {
      const connection = navigator.connection || navigator.mozConnection || navigator.webkitConnection;
      const slowNetworks = ['2g', '3g', 'slow-2g', '4g'];
  
      // Initial check
      if (navigator.onLine && slowNetworks.includes(connection.effectiveType)) {
        showSlowNetworkToast();
      }
  
      // Listen for network changes
      connection.addEventListener('change', () => {
        if (navigator.onLine && slowNetworks.includes(connection.effectiveType)) {
          showSlowNetworkToast();
        }
      });
    }
  </script>

  <script src="/update-check.js"></script>
</body>
</html>